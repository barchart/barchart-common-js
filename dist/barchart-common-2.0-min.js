!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Barchart||(t.Barchart={})).Common=e()}}(function(){return function e(t,n,r){function o(u,a){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.exports=function(){var e=function(){function e(){r(this,e),this._array=[]}return o(e,[{key:"enqueue",value:function(e){return this._array.push(e),e}},{key:"dequeue",value:function(){if(this.empty())throw new Error("Queue is empty");return this._array.shift()}},{key:"peek",value:function(){if(this.empty())throw new Error("Queue is empty");return this._array[0]}},{key:"empty",value:function(){return 0===this._array.length}},{key:"toString",value:function(){return"[Queue]"}}]),e}();return e}()},{}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.exports=function(){var e=function(){function e(){r(this,e),this._array=[]}return o(e,[{key:"push",value:function(e){return this._array.unshift(e),e}},{key:"pop",value:function(){if(this.empty())throw new Error("Stack is empty");return this._array.shift()}},{key:"peek",value:function(){if(this.empty())throw new Error("Stack is empty");return this._array[0]}},{key:"empty",value:function(){return 0===this._array.length}},{key:"toString",value:function(){return"[Stack]"}}]),e}();return e}()},{}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.exports=function(){var e=function(){function e(t,n){r(this,e),this._value=t,this._parent=n||null,this._children=[]}return o(e,[{key:"getParent",value:function(){return this._parent}},{key:"getChildren",value:function(){return this._children}},{key:"getValue",value:function(){return this._value}},{key:"getIsLeaf",value:function(){return 0===this._children.length}},{key:"getIsRoot",value:function(){return null===this._parent}},{key:"addChild",value:function(t){var n=new e(t,this);return this._children.push(n),n}},{key:"removeChild",value:function(e){for(var t=this._children.length-1;!(t<0);t--){var n=this._children[t];if(n===e){this._children.splice(t,1),n._parent=null,n._children=[];break}}}},{key:"findChild",value:function(e){for(var t=null,n=0;n<this._children.length;n++){var r=this._children[n];if(e(r.getValue(),r)){t=r;break}}return t}},{key:"search",value:function(e,t,n){var r=null;null===r&&t&&n&&e(this.getValue(),this)&&(r=this);for(var o=0;o<this._children.length;o++){var i=this._children[o];if(r=i.search(e,t,!0),null!==r)break}return null===r&&!t&&n&&e(this.getValue(),this)&&(r=this),r}},{key:"walk",value:function(e,t,n){var r=function(t,n){return e(t,n),!1};this.search(r,t,n)}},{key:"climb",value:function(e,t){t&&e(this.getValue(),this),null!==this._parent&&this._parent.climb(e,!0)}},{key:"toString",value:function(){return"[Tree]"}}]),e}();return e}()},{}],4:[function(e,t,n){"use strict";var r=e("./Queue"),o=e("./Stack"),i=e("./Tree"),u=e("./specialized/DisposableStack"),a=e("./specialized/EvictingList"),s=e("./sorting/ComparatorBuilder"),c=e("./sorting/comparators");t.exports=function(){return{Queue:r,Sorting:{ComparatorBuilder:s,comparators:c},Specialized:{DisposableStack:u,EvictingList:a},Stack:o,Tree:i}}()},{"./Queue":1,"./Stack":2,"./Tree":3,"./sorting/ComparatorBuilder":5,"./sorting/comparators":6,"./specialized/DisposableStack":7,"./specialized/EvictingList":8}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./../../lang/assert"),u=e("./comparators");t.exports=function(){var e=function(){function e(t,n,o){r(this,e),i.argumentIsRequired(t,"comparator",Function),i.argumentIsOptional(n,"invert",Boolean),this._comparator=t,this._invert=n||!1,this._previous=o||null}return o(e,[{key:"thenBy",value:function(t,n){return i.argumentIsRequired(t,"comparator",Function),i.argumentIsOptional(n,"invert",Boolean),new e(t,n,this)}},{key:"invert",value:function(){var t=void 0;return t=this._previous?this._previous.invert():null,new e(this._comparator,(!this._invert),t)}},{key:"toComparator",value:function(){var e=this,t=void 0;return t=this._previous?this._previous.toComparator():u.empty,function(n,r){var o=t(n,r);if(0===o){var i=void 0,u=void 0;e._invert?(i=r,u=n):(i=n,u=r),o=e._comparator(i,u)}return o}}},{key:"toString",value:function(){return"[ComparatorBuilder]"}}],[{key:"startWith",value:function(t,n){return new e(t,n)}}]),e}();return e}()},{"./../../lang/assert":15,"./comparators":6}],6:[function(e,t,n){"use strict";var r=e("./../../lang/assert");t.exports=function(){return{compareDates:function(e,t){return r.argumentIsRequired(e,"a",Date),r.argumentIsRequired(t,"b",Date),e-t},compareNumbers:function(e,t){return r.argumentIsRequired(e,"a",Number),r.argumentIsRequired(t,"b",Number),e-t},compareStrings:function(e,t){return r.argumentIsRequired(e,"a",String),r.argumentIsRequired(t,"b",String),e.localeCompare(t)},empty:function(e,t){return 0}}}()},{"./../../lang/assert":15}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../Stack"),c=e("./../../lang/assert"),f=e("./../../lang/Disposable");t.exports=function(){var e=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._stack=new s,e}return i(t,e),a(t,[{key:"push",value:function(e){if(c.argumentIsRequired(e,"disposable",f,"Disposable"),this.getIsDisposed())throw new Error("Unable to push item onto DisposableStack because it has been disposed.");this._stack.push(e)}},{key:"_onDispose",value:function(){for(;!this._stack.empty();)this._stack.pop().dispose()}}],[{key:"fromArray",value:function(e){c.argumentIsArray(e,"bindings",f,"Disposable");for(var n=new t,r=0;r<e.length;r++)n.push(e[r]);return n}}]),t}(f);return e}()},{"./../../lang/Disposable":14,"./../../lang/assert":15,"./../Stack":2}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./../../lang/assert");t.exports=function(){var e={},t=function(){function t(n){r(this,t),i.argumentIsOptional(n,"capacity",Number),this._capacity=Math.max(n||0,0)||10,this._array=[];for(var o=0;o<this._capacity;o++)this._array[o]=e;this._head=null}return o(t,[{key:"add",value:function(e){this._array[this._head=n(this._head,this._capacity)]=e}},{key:"peek",value:function(){if(this.empty())throw new Error("EvictingList is empty");return this._array[this._head]}},{key:"empty",value:function(){return null===this._head}},{key:"getCapacity",value:function(){return this._capacity}},{key:"toArray",value:function(){var t=[];if(!this.empty())for(var n=this._head,r=0;r<this._capacity;r++){var o=this._array[n];if(o===e)break;t.push(o),n=u(n,this._capacity)}return t}},{key:"toString",value:function(){return"[EvictingList]"}}]),t}(),n=function(e,t){var n=void 0;return null===e?n=0:(n=e+1,n===t&&(n=0)),n},u=function(e,t){var n=void 0;return null===e?n=0:(n=e-1,n<0&&(n=t-1)),n};return t}()},{"./../../lang/assert":15}],9:[function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/assert");t.exports=function(){var e=function(){function e(){i(this,e)}return a(e,[{key:"process",value:function(e){return this._process(e)}},{key:"_process",value:function(e){return!0}},{key:"toString",value:function(){return"[CommandHandler]"}}],[{key:"toFunction",value:function(t){return s.argumentIsRequired(t,"commandHandler",e,"CommandHandler"),function(e){return t.process(e)}}},{key:"fromFunction",value:function(e){return s.argumentIsRequired(e,"handler",Function),new t(e)}}]),e}(),t=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._handler=e,n}return o(t,e),a(t,[{key:"_process",value:function(e){return this._handler(e)}}]),t}(e);return e}()},{"./../lang/assert":15}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/assert"),c=e("./CommandHandler");t.exports=function(){var e=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.argumentIsRequired(e,"commandHandlerA",c,"CommandHandler"),s.argumentIsRequired(n,"commandHandlerB",c,"CommandHandler"),s.areNotEqual(e,n,"commandHandlerA","commandHandlerB"),i._commandHandlerA=e,i._commandHandlerB=n,i}return i(t,e),a(t,[{key:"_process",value:function(e){return this._commandHandlerA.process(e)&&this._commandHandlerB.process(e)}},{key:"toString",value:function(){return"[CompositeCommandHandler]"}}]),t}(c);return e}()},{"./../lang/assert":15,"./CommandHandler":9}],11:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/assert"),c=e("./CommandHandler");t.exports=function(){var e=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.argumentIsRequired(e,"nameFunction",Function),n._handlerMap={},n._defaultHandler=null,n._nameExtractor=e,n}return i(t,e),a(t,[{key:"addCommandHandler",value:function(e,t){if(s.argumentIsRequired(e,"name",String),s.argumentIsRequired(t,"commandHandler",c,"CommandHandler"),this._handlerMap.hasOwnProperty(e))throw new Error("A handler with the same name already exists in the map");if(t===this)throw new Error("Recursive use of mapped command handlers is prohibited");return this._handlerMap[e]=t,this}},{key:"setDefaultCommandHandler",value:function(e){return s.argumentIsRequired(e,"commandHandler",c,"CommandHandler"),this._defaultHandler=e,this}},{key:"_process",value:function(e){var t=this._nameExtractor(e),n=this._handlerMap[t]||this._defaultHandler,r=void 0;return r=n?n.process(e):null}},{key:"toString",value:function(){return"[MappedCommandHandler]"}}]),t}(c);return e}()},{"./../lang/assert":15,"./CommandHandler":9}],12:[function(e,t,n){"use strict";var r=e("./CommandHandler"),o=e("./CompositeCommandHandler"),i=e("./MappedCommandHandler");t.exports=function(){return{CommandHandler:r,CompositeCommandHandler:o,MappedCommandHandler:i}}()},{"./CommandHandler":9,"./CompositeCommandHandler":10,"./MappedCommandHandler":11}],13:[function(e,t,n){"use strict";var r=e("./collections/index"),o=e("./commands/index"),i=e("./lang/index"),u=e("./messaging/index"),a=e("./models/index"),s=e("./specifications/index"),c=e("./timing/index");t.exports=function(){var e={Collections:r,Commands:o,Messaging:u,Models:a,Timing:c,Specifications:s};return Object.keys(i).forEach(function(t){e[t]=i[t]}),e}()},{"./collections/index":4,"./commands/index":12,"./lang/index":18,"./messaging/index":21,"./models/index":23,"./specifications/index":51,"./timing/index":54}],14:[function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./assert");t.exports=function(){var e=function(){function e(){i(this,e),this._disposed=!1}return a(e,[{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._onDispose())}},{key:"_onDispose",value:function(){}},{key:"getIsDisposed",value:function(){return this._disposed||!1}},{key:"toString",value:function(){return"[Disposable]"}}],[{key:"fromAction",value:function(e){return s.argumentIsRequired(e,"disposeAction",Function),new t(e)}}]),e}(),t=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._disposeAction=e,n}return o(t,e),a(t,[{key:"_onDispose",value:function(){this._disposeAction(),this._disposeAction=null}},{key:"toString",value:function(){return"[DisposableAction]"}}]),t}(e);return e}()},{"./assert":15}],15:[function(e,t,n){"use strict";var r=e("./is");t.exports=function(){function e(e,n,o,i,u){o===String?r.string(e)||t(n,"string",u):o===Number?r.number(e)||t(n,"number",u):o===Function?r.fn(e)||t(n,"function",u):o===Boolean?r["boolean"](e)||t(n,"boolean",u):o===Date?r.date(e)||t(n,"date",u):o===Array?r.array(e)||t(n,"array",u):e instanceof(o||Object)||t(n,i,u)}function t(e,t,n){var r=void 0;throw r="number"==typeof n?"The argument ["+(e||"unspecified")+"], at index ["+n.toString()+"] must be a "+(t||"unknown"):"The argument ["+(e||"unspecified")+"] must be a "+(t||"Object"),new Error(r)}var n={argumentIsRequired:function(t,n,r,o){e(t,n,r,o)},argumentIsOptional:function(t,n,r,o){null!==t&&void 0!==t&&e(t,n,r,o)},argumentIsArray:function(t,r,o,i){n.argumentIsRequired(t,r,Array),o&&!function(){var n=void 0;n="function"==typeof o&&o!==Function?function(e,t){return e instanceof o||o(e,r+"["+t+"]")}:function(t,n){return e(t,r,o,i,n)},t.forEach(function(e,t){n(e,t)})}()},areEqual:function(e,t,n,r){if(e!==t)throw new Error("The objects must be equal (["+(n||e.toString())+" and "+(r||t.toString()))},areNotEqual:function(e,t,n,r){if(e===t)throw new Error("The objects cannot be equal (["+(n||e.toString())+" and "+(r||t.toString()))}};return n}()},{"./is":19}],16:[function(e,t,n){"use strict";var r=e("./assert");t.exports=function(){function e(e){var t=void 0;return t=Array.isArray(e)?e:e.split(".")}function t(e,t,n){for(var r=e,o=0;o<t.length-1;o++){var i=t[o];if(r.hasOwnProperty(i))r=r[i];else{if(!n){r=null;break}r=r[i]={}}}return r}function n(e){return 0!==e.length?e[e.length-1]:null}var o={has:function(o,i){r.argumentIsRequired(o,"target",Object),Array.isArray(i)?r.argumentIsArray(i,"propertyNames",String):r.argumentIsRequired(i,"propertyNames",String);var u=e(i),a=t(o,u,!1);return null!==a&&a.hasOwnProperty(n(u))},read:function(o,i){r.argumentIsRequired(o,"target",Object),Array.isArray(i)?r.argumentIsArray(i,"propertyNames",String):r.argumentIsRequired(i,"propertyNames",String);var u=e(i),a=t(o,u,!1),s=void 0;if(a){var c=n(u);s=a[c]}else s=void 0;return s},write:function(o,i,u){r.argumentIsRequired(o,"target",Object),Array.isArray(i)?r.argumentIsArray(i,"propertyNames",String):r.argumentIsRequired(i,"propertyNames",String);var a=e(i),s=t(o,a,!0),c=n(a);s[c]=u},erase:function(r,i){if(o.has(r,i)){var u=e(i),a=t(r,u,!0),s=n(u);delete a[s]}}};return o}()},{"./assert":15}],17:[function(e,t,n){"use strict";t.exports=function(){return{toDate:function(e){return new Date(e)},empty:function(e){return e}}}()},{}],18:[function(e,t,n){"use strict";var r=e("./assert"),o=e("./attributes"),i=e("./converters"),u=e("./Disposable"),a=e("./is");t.exports=function(){return{assert:r,attributes:o,converters:i,Disposable:u,is:a}}()},{"./Disposable":14,"./assert":15,"./attributes":16,"./converters":17,"./is":19}],19:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":r(e)};t.exports=function(){return{number:function(e){return"number"==typeof e&&!isNaN(e)},nan:function(e){return"number"==typeof e&&isNaN(e)},string:function(e){return"string"==typeof e},date:function(e){return e instanceof Date},fn:function(e){return"function"==typeof e},array:function(e){return Array.isArray(e)},"boolean":function(e){return"boolean"==typeof e},object:function(e){return"object"===("undefined"==typeof e?"undefined":o(e))&&null!==e},"null":function(e){return null===e},undefined:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return void 0===e})}}()},{}],20:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/Disposable");t.exports=function(){function e(e){var t=this._observers.slice();t.push(e),this._observers=t}function t(e){for(var t=[],n=0;n<this._observers.length;n++){var r=this._observers[n];r===e&&t.push(n)}if(t.length>0){for(var o=this._observers.slice(),i=t.length-1;!(i<0);i--)o.splice(t[i],1);this._observers=o}}var n=function(n){function u(e){r(this,u);var t=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return t._sender=e||null,t._observers=[],t}return i(u,n),a(u,[{key:"register",value:function(n){var r=this;if("function"!=typeof n)throw new Error("Event handler must be a function.");return e.call(this,n),s.fromAction(function(){r.getIsDisposed()||t.call(r,n)})}},{key:"unregister",value:function(e){if("function"!=typeof e)throw new Error("Event handler must be a function.");t.call(this,e)}},{key:"clear",value:function(){this._observers=[]}},{key:"fire",value:function(e){for(var t=this._observers,n=0;n<t.length;n++){var r=t[n];r(e,this._sender)}}},{key:"getIsEmpty",value:function(){return 0===this._observers.length}},{key:"_onDispose",value:function(){this._observers=null}},{key:"toString",value:function(){return"[Event]"}}]),u}(s);return n}()},{"./../lang/Disposable":14}],21:[function(e,t,n){"use strict";var r=e("./Event");t.exports=function(){return{Event:r}}()},{"./Event":20}],22:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/assert"),c=e("./../lang/Disposable"),f=e("./../messaging/Event");t.exports=function(){function e(){}function t(e,t){return e===t}function n(e,t,n){var r=void 0;Object.defineProperty(this,e,{get:function(){return r},set:function(o){if(!n(r,o)){r=o;var i=!this._transactionOpen;i&&this.beginTransaction(),this._transactionData=this._transactionData||{},this._transactionData[e]=r,t(),i&&this.endTransaction()}}})}var u=function(u){function c(i,u,a){r(this,c);var s=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));s._propertyNames=i,s._transactionCommit=new f(s),s._transactionOpen=!1,s._transactionData=null,s._trackerOpen=!1,s._trackerData=null,s._sequence=0;for(var l=u||{},p=a||{},y=0;y<s._propertyNames.length;y++){var h=i[y];n.call(s,h,l[h]||e,p[h]||t)}return s}return i(c,u),a(c,[{key:"beginTransaction",value:function(){this._transactionOpen||(this._transactionOpen=!0)}},{key:"endTransaction",value:function(){if(this._transactionOpen&&!this.getIsDisposed()&&(this._transactionOpen=!1,null!==this._transactionData)){if(this._formatTransactionData(this._transactionData),this._transactionData.sequence=this._sequence++,this._trackerOpen){this._trackerData=this._trackerData||{};for(var e in this._transactionData)this._trackerData[e]=this._transactionData[e]}this._transactionCommit.fire(this._transactionData),this._transactionData=null}}},{key:"_formatTransactionData",value:function(e){}},{key:"executeTransaction",value:function(e){s.argumentIsRequired(e,"processor",Function),this.beginTransaction(),e(this),this.endTransaction()}},{key:"onTransactionCommitted",value:function(e){if(!this.getIsDisposed())return this._transactionCommit.register(e)}},{key:"startTracker",value:function(){this._trackerOpen||(this._trackerOpen=!0)}},{key:"resetTracker",value:function(){if(!this._trackerOpen)return null;if(this.getIsDisposed())return null;var e=this._trackerData;return this._trackerData=null,e}},{key:"stopTracking",value:function(){this._trackerOpen&&(this.getIsDisposed()||(this._trackerOpen=!1,this._trackerData=null))}},{key:"getSnapshot",value:function(){for(var e={},t=0;t<this._propertyNames.length;t++){var n=this._propertyNames[t];e[n]=this[n]}return e.sequence=this._sequence,e}},{key:"_onDispose",value:function(){this._transactionCommit.dispose(),this._transactionCommit=null}},{key:"toString",value:function(){return"[Model]"}}]),c}(c);return u}()},{"./../lang/Disposable":14,"./../lang/assert":15,"./../messaging/Event":20}],23:[function(e,t,n){"use strict";var r=e("./Model");t.exports=function(){return{Model:r}}()},{"./Model":22}],24:[function(e,t,n){},{}],25:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],26:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function u(e){if(p===clearTimeout)return clearTimeout(e);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){v&&h&&(v=!1,h.length?d=h.concat(d):m=-1,d.length&&s())}function s(){if(!v){var e=i(a);v=!0;for(var t=d.length;t;){for(h=d,d=[];++m<t;)h&&h[m].run();m=-1,t=d.length}h=null,v=!1,u(e)}}function c(e,t){this.fun=e,this.array=t}function f(){}var l,p,y=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(e){p=o}}();var h,d=[],v=!1,m=-1;y.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new c(e,t)),1!==d.length||v||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=f,y.addListener=f,y.once=f,y.off=f,y.removeListener=f,y.removeAllListeners=f,y.emit=f,y.binding=function(e){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(e){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},{}],27:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function u(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),s=1;s<r;s++)i[s-1]=arguments[s];n.apply(this,i)}else if(u(n)){for(r=arguments.length,i=new Array(r-1),s=1;s<r;s++)i[s-1]=arguments[s];for(c=n.slice(),r=c.length,s=0;s<r;s++)c[s].apply(this,i)}return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?u(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,u(this._events[e])&&!this._events[e].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,
console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(u(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?o(e._events[t])?1:e._events[t].length:0}},{}],28:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],29:[function(e,t,n){"use strict";function r(e,t){return e=e||i.colouredLayout,function(n){u(e(n,t))}}function o(e){var t;return e.layout&&(t=i.layout(e.layout.type,e.layout)),r(t,e.timezoneOffset)}var i=e("../layouts"),u=console.log.bind(console);n.appender=r,n.configure=o},{"../layouts":32}],30:[function(e,t,n){"use strict";function r(e,t){t="object"==typeof t?t||{}:t?{format:t}:{};var n=e,r=a.toLevel(t.level,a.INFO),c=t.format||s,f=t.nolog?u(t.nolog):null;return function(e,u,s){if(e._logging)return s();if(f&&f.test(e.originalUrl))return s();if(n.isLevelEnabled(r)||"auto"===t.level){var l,p=new Date,y=u.writeHead;e.originalUrl;e._logging=!0,u.writeHead=function(e,n){u.writeHead=y,u.writeHead(e,n),u.__statusCode=l=e,u.__headers=n||{},"auto"===t.level?(r=a.INFO,e>=300&&(r=a.WARN),e>=400&&(r=a.ERROR)):r=a.toLevel(t.level,a.INFO)},u.on("finish",function(){if(u.responseTime=new Date-p,u.statusCode&&"auto"===t.level&&(r=a.INFO,u.statusCode>=300&&(r=a.WARN),u.statusCode>=400&&(r=a.ERROR)),n.isLevelEnabled(r)){var s=o(e,u,t.tokens||[]);if("function"==typeof c){var f=c(e,u,function(e){return i(e,s)});f&&n.log(r,f)}else n.log(r,i(c,s))}})}s()}}function o(e,t,n){var r=function(e){for(var t=e.concat(),n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)t[n].token==t[r].token&&t.splice(r--,1);return t},o=[];return o.push({token:":url",replacement:e.originalUrl}),o.push({token:":protocol",replacement:e.protocol}),o.push({token:":hostname",replacement:e.hostname}),o.push({token:":method",replacement:e.method}),o.push({token:":status",replacement:t.__statusCode||t.statusCode}),o.push({token:":response-time",replacement:t.responseTime}),o.push({token:":date",replacement:(new Date).toUTCString()}),o.push({token:":referrer",replacement:e.headers.referer||e.headers.referrer||""}),o.push({token:":http-version",replacement:e.httpVersionMajor+"."+e.httpVersionMinor}),o.push({token:":remote-addr",replacement:e.headers["x-forwarded-for"]||e.ip||e._remoteAddress||e.socket&&(e.socket.remoteAddress||e.socket.socket&&e.socket.socket.remoteAddress)}),o.push({token:":user-agent",replacement:e.headers["user-agent"]}),o.push({token:":content-length",replacement:t._headers&&t._headers["content-length"]||t.__headers&&t.__headers["Content-Length"]||"-"}),o.push({token:/:req\[([^\]]+)\]/g,replacement:function(t,n){return e.headers[n.toLowerCase()]}}),o.push({token:/:res\[([^\]]+)\]/g,replacement:function(e,n){return t._headers?t._headers[n.toLowerCase()]||t.__headers[n]:t.__headers&&t.__headers[n]}}),r(n.concat(o))}function i(e,t){for(var n=0;n<t.length;n++)e=e.replace(t[n].token,t[n].replacement);return e}function u(e){var t=null;if(e&&(e instanceof RegExp&&(t=e),"string"==typeof e&&(t=new RegExp(e)),Array.isArray(e))){var n=e.map(function(e){return e.source?e.source:e});t=new RegExp(n.join("|"))}return t}var a=e("./levels"),s=':remote-addr - - ":method :url HTTP/:http-version" :status :content-length ":referrer" ":user-agent"';n.connectLogger=r},{"./levels":33}],31:[function(e,t,n){"use strict";function r(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function o(e){return r(e,2)}function i(e){var t=Math.abs(e),n=String(Math.floor(t/60)),r=String(t%60);return 1==n.length&&(n="0"+n),1==r.length&&(r="0"+r),e<0?"+"+n+r:"-"+n+r}n.ISO8601_FORMAT="yyyy-MM-dd hh:mm:ss.SSS",n.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ssO",n.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS",n.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS",n.asString=function(e,t){var u=n.ISO8601_FORMAT;"string"==typeof e&&(u=arguments[0],e=arguments[1],t=arguments[2]),void 0===t&&(t=e.getTimezoneOffset()),e.setUTCMinutes(e.getUTCMinutes()-t);var a=o(e.getUTCDate()),s=o(e.getUTCMonth()+1),c=o(e.getUTCFullYear()),f=o(e.getUTCFullYear().toString().substring(2,4)),l=u.indexOf("yyyy")>-1?c:f,p=o(e.getUTCHours()),y=o(e.getUTCMinutes()),h=o(e.getUTCSeconds()),d=r(e.getUTCMilliseconds(),3),v=i(t);e.setUTCMinutes(e.getUTCMinutes()+t);var m=u.replace(/dd/g,a).replace(/MM/g,s).replace(/y{1,4}/g,l).replace(/hh/g,p).replace(/mm/g,y).replace(/ss/g,h).replace(/SSS/g,d).replace(/O/g,v);return m}},{}],32:[function(e,t,n){(function(n){"use strict";function r(e){return e.map(function(e){return e instanceof Error&&e.stack?{inspect:function(){return m.format(e)+"\n"+e.stack}}:e})}function o(e){var t=Array.isArray(e)?e:Array.prototype.slice.call(arguments);return m.format.apply(m,r(t))}function i(e){return e?"["+_[e][0]+"m":""}function u(e){return e?"["+_[e][1]+"m":""}function a(e,t){return i(t)+e+u(t)}function s(e,t,n){var r=a(o("[%s] [%s] %s - ",h.asString(e.startTime,n),e.level,e.categoryName),t);return r}function c(e,t){return s(e,void 0,t)+o(e.data)}function f(e,t){return s(e,g[e.level.toString()],t)+o(e.data)}function l(e){return o(e.data)}function p(e){return e.data[0]}function y(e,t,r){function a(e,t){var n=e.categoryName;if(t){var r=parseInt(t,10),o=n.split(".");r<o.length&&(n=o.slice(o.length-r).join("."))}return n}function s(e,t){var n=h.ISO8601_FORMAT;return t&&(n=t,"ISO8601"==n?n=h.ISO8601_FORMAT:"ISO8601_WITH_TZ_OFFSET"==n?n=h.ISO8601_WITH_TZ_OFFSET_FORMAT:"ABSOLUTE"==n?n=h.ABSOLUTETIME_FORMAT:"DATE"==n&&(n=h.DATETIME_FORMAT)),h.asString(n,e.startTime,r)}function c(){return d.hostname().toString()}function f(e){return o(e.data)}function l(){return v}function p(e){return e.level.toString()}function y(e){return h.asString("hh:mm:ss",e.startTime,r)}function m(e){return i(g[e.level.toString()])}function b(e){return u(g[e.level.toString()])}function _(){return"%"}function w(e){return e&&e.pid?e.pid:n.pid}function S(e,t){return e.cluster&&t?t.replace("%m",e.cluster.master).replace("%w",e.cluster.worker).replace("%i",e.cluster.workerId):e.cluster?e.cluster.worker+"@"+e.cluster.master:w()}function O(e,n){return"undefined"!=typeof t[n]?"function"==typeof t[n]?t[n](e):t[n]:null}function k(e,t,n){return C[e](t,n)}function E(e,t){var n;return e?(n=parseInt(e.substr(1),10),t.substring(0,n)):t}function T(e,t){var n;if(e)if("-"==e.charAt(0))for(n=parseInt(e.substr(1),10);t.length<n;)t+=" ";else for(n=parseInt(e,10);t.length<n;)t=" "+t;return t}var j="%r %p %c - %m%n",x=/%(-?[0-9]+)?(\.?[0-9]+)?([\[\]cdhmnprzxy%])(\{([^\}]+)\})?|([^%]+)/;e=e||j;var C={c:a,d:s,h:c,m:f,n:l,p:p,r:y,"[":m,"]":b,y:S,z:w,"%":_,x:O};return function(t){for(var n,r="",o=e;n=x.exec(o);){var i=(n[0],n[1]),u=n[2],a=n[3],s=n[5],c=n[6];if(c)r+=""+c;else{var f=k(a,t,s);f=E(u,f),f=T(i,f),r+=f}o=o.substr(n.index+n[0].length)}return r}}var h=e("./date_format"),d=e("os"),v=d.EOL||"\n",m=e("util"),b={messagePassThrough:function(){return l},basic:function(){return c},colored:function(){return f},coloured:function(){return f},pattern:function(e){return y(e&&e.pattern,e&&e.tokens)},dummy:function(){return p}},g={ALL:"grey",TRACE:"blue",DEBUG:"cyan",INFO:"green",WARN:"yellow",ERROR:"red",FATAL:"magenta",OFF:"grey"},_={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};t.exports={basicLayout:c,messagePassThroughLayout:l,patternLayout:y,colouredLayout:f,coloredLayout:f,dummyLayout:p,addLayout:function(e,t){b[e]=t},layout:function(e,t){return b[e]&&b[e](t)}}}).call(this,e("_process"))},{"./date_format":31,_process:26,os:24,util:38}],33:[function(e,t,n){"use strict";function r(e,t){this.level=e,this.levelStr=t}function o(e,n){return e?"string"==typeof e?t.exports[e.toUpperCase()]||n:o(e.toString()):n}r.prototype.toString=function(){return this.levelStr},r.prototype.isLessThanOrEqualTo=function(e){return"string"==typeof e&&(e=o(e)),this.level<=e.level},r.prototype.isGreaterThanOrEqualTo=function(e){return"string"==typeof e&&(e=o(e)),this.level>=e.level},r.prototype.isEqualTo=function(e){return"string"==typeof e&&(e=o(e)),this.level===e.level},t.exports={ALL:new r(Number.MIN_VALUE,"ALL"),TRACE:new r(5e3,"TRACE"),DEBUG:new r(1e4,"DEBUG"),INFO:new r(2e4,"INFO"),WARN:new r(3e4,"WARN"),ERROR:new r(4e4,"ERROR"),FATAL:new r(5e4,"FATAL"),MARK:new r(9007199254740992,"MARK"),OFF:new r(Number.MAX_VALUE,"OFF"),toLevel:o}},{}],34:[function(e,t,n){(function(n){"use strict";function r(e){return q.hasOwnProperty(e)}function o(e){var t=s(e),n={};return n.temp=[],n.target=t,n.flush=function(){for(var e=0;e<n.temp.length;e++){var t=n.temp[e];n.target[t.level](t.message),delete n.temp[e]}},n.trace=function(e){n.temp.push({level:"trace",message:e})},n.debug=function(e){n.temp.push({level:"debug",message:e})},n.info=function(e){n.temp.push({level:"info",message:e})},n.warn=function(e){n.temp.push({level:"warn",message:e})},n.error=function(e){n.temp.push({level:"error",message:e})},n.fatal=function(e){n.temp.push({level:"fatal",message:e})},n}function i(e){return e+"."}function u(e,t){var n=i(e),r=i(t);return r.substring(0,n.length)==n}function a(e,t){var n=i(e),r=i(t);return r.substring(0,n.length)==n}function s(e){if("string"!=typeof e&&(e=L.DEFAULT_CATEGORY),!r(e)){var t=void 0;if(R.config)for(var n=Object.keys(R.config).sort(),o=0;o<n.length;o++){var i=n[o];u(i,e)&&(t=R.config[i])}q[e]=new L(e,t);var s;for(var c in P)a(c,e)&&(s=P[c],s.forEach(function(t){q[e].addListener("log",t)}));P[D]&&(s=P[D],s.forEach(function(t){q[e].addListener("log",t)}))}return q[e]}function c(){var e=Array.prototype.slice.call(arguments),t=e.shift();0!==e.length&&void 0!==e[0]||(e=[D]),Array.isArray(e[0])&&(e=e[0]),e.forEach(function(e){if(l(t,e),e===D)f(t);else for(var n in q)a(e,n)&&q[n].addListener("log",t)})}function f(e){for(var t in q)r(t)&&q[t].addListener("log",e)}function l(e,t){P[t]||(P[t]=[]),P[t].push(e)}function p(){P={};for(var e in q)r(e)&&q[e].removeAllListeners("log")}function y(e,t){p(),e&&e.forEach(function(e){T(e.type);var n;e.makers=M;try{n=M[e.type](e,t),c(n,e.category)}catch(r){throw new Error("log4js configuration problem for "+C.inspect(e),r)}})}function h(e){if(R.config=e,e){var t=Object.keys(R.config).sort();for(var n in t){var r=t[n];r===D&&d(e[r]);for(var o in q)u(r,o)&&q[o].setLevel(e[r])}}}function d(e){L.prototype.level=R.toLevel(e,R.TRACE)}function v(){return s(L.DEFAULT_CATEGORY)}function m(e){if(e)return JSON.parse(x.readFileSync(e,"utf8"))}function b(e,t){if(e)try{h(e.levels),y(e.appenders,t),e.replaceConsole?O():k()}catch(n){throw new Error("Problem reading log4js config "+C.inspect(e)+'. Error was "'+n.message+'" ('+n.stack+")")}}function g(e){var t=_(H.filename);t&&(H.lastMTime&&t.getTime()>H.lastMTime.getTime()&&b(m(H.filename),e),H.lastMTime=t)}function _(e){var t;try{t=x.statSync(H.filename).mtime}catch(n){s("log4js").warn("Failed to load configuration file "+e)}return t}function w(e,t){H.timerId&&(clearInterval(H.timerId),delete H.timerId),H.filename=e,H.lastMTime=_(e),H.timerId=setInterval(g,1e3*t.reloadSecs,t)}function S(e,t){var r=e;r=r||n.env.LOG4JS_CONFIG,t=t||{},void 0===r||null===r||"string"==typeof r?(t.reloadSecs&&w(r,t),r=m(r)||N):t.reloadSecs&&s("log4js").warn('Ignoring configuration reload parameter for "object" configuration.'),b(r,t)}function O(e){function t(t){return function(){t.apply(e,arguments)}}e=e||s("console"),["log","debug","info","warn","error"].forEach(function(n){console[n]=t("log"===n?e.info:e[n])})}function k(){["log","debug","info","warn","error"].forEach(function(e){console[e]=B[e]})}function E(t){var n;try{n=e("./appenders/"+t)}catch(r){n=e(t)}return n}function T(e,n){if(n=n||E(e),!n)throw new Error("Invalid log4js appender: "+C.inspect(e));t.exports.appenders[e]=n.appender.bind(n),n.shutdown&&(F[e]=n.shutdown.bind(n)),M[e]=n.configure.bind(n)}function j(e){I.disableAllLogWrites();var t,n=0,r=[],o=function(o){t=t||o,n++,n>=r.length&&e(t)};for(var i in F)F.hasOwnProperty(i)&&r.push(F[i]);return r.length?void r.forEach(function(e){e(o)}):e()}var x=(e("events"),e("fs")),C=(e("path"),e("util")),A=e("./layouts"),R=e("./levels"),I=e("./logger"),L=(I.LoggingEvent,I.Logger),D="[all]",P={},q={},M={},F={},N={appenders:[{type:"console"}],replaceConsole:!1};e("./appenders/console");var H={},B={log:console.log,debug:console.debug,info:console.info,warn:console.warn,error:console.error};t.exports={getBufferedLogger:o,getLogger:s,getDefaultLogger:v,hasLogger:r,addAppender:c,loadAppender:T,clearAppenders:p,configure:S,shutdown:j,replaceConsole:O,restoreConsole:k,levels:R,setGlobalLogLevel:d,layouts:A,appenders:{},appenderMakers:M,connectLogger:e("./connect-logger").connectLogger},S()}).call(this,e("_process"))},{"./appenders/console":29,"./connect-logger":30,"./layouts":32,"./levels":33,"./logger":35,_process:26,events:27,fs:25,path:36,util:38}],35:[function(e,t,n){"use strict";function r(e,t,n,r){this.startTime=new Date,this.categoryName=e,this.data=n,this.level=t,this.logger=r}function o(e,t){this.category=e||f,t&&this.setLevel(t)}function i(){l=!1}function u(){l=!0}var a=e("./levels"),s=e("util"),c=e("events"),f="[default]",l=!0;s.inherits(o,c.EventEmitter),o.DEFAULT_CATEGORY=f,o.prototype.level=a.TRACE,o.prototype.setLevel=function(e){this.level=a.toLevel(e,this.level||a.TRACE)},o.prototype.removeLevel=function(){delete this.level},o.prototype.log=function(){var e=a.toLevel(arguments[0],a.INFO);if(this.isLevelEnabled(e)){for(var t=arguments.length-1,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r+1];this._log(e,n)}},o.prototype.isLevelEnabled=function(e){return this.level.isLessThanOrEqualTo(e)},["Trace","Debug","Info","Warn","Error","Fatal","Mark"].forEach(function(e){var t=a.toLevel(e);o.prototype["is"+e+"Enabled"]=function(){return this.isLevelEnabled(t)},o.prototype[e.toLowerCase()]=function(){if(l&&this.isLevelEnabled(t)){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._log(t,n)}}}),o.prototype._log=function(e,t){var n=new r(this.category,e,t,this);this.emit("log",n)},n.LoggingEvent=r,n.Logger=o,n.disableAllLogWrites=i,n.enableAllLogWrites=u},{"./levels":33,events:27,util:38}],36:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var u=i>=0?arguments[i]:e.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(n=u+"/"+n,o="/"===u.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(e){var o=n.isAbsolute(e),i="/"===u(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),u=Math.min(o.length,i.length),a=u,s=0;s<u;s++)if(o[s]!==i[s]){a=s;break}for(var c=[],s=a;s<o.length;s++)c.push("..");return c=c.concat(i.slice(a)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var u="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:26}],37:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],38:[function(e,t,n){(function(t,r){function o(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(t)?r.showHidden=t:t&&n._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),s(r,e,r.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function u(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function s(e,t,r){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(r,e);return g(o)||(o=s(e,o,r)),o}var i=c(e,t);if(i)return i;var u=Object.keys(t),d=a(u);if(e.showHidden&&(u=Object.getOwnPropertyNames(t)),E(t)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(t);if(0===u.length){if(T(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(S(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(k(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return f(t)}var m="",b=!1,_=["{","}"];if(h(t)&&(b=!0,_=["[","]"]),T(t)){var w=t.name?": "+t.name:"";m=" [Function"+w+"]"}if(S(t)&&(m=" "+RegExp.prototype.toString.call(t)),k(t)&&(m=" "+Date.prototype.toUTCString.call(t)),E(t)&&(m=" "+f(t)),0===u.length&&(!b||0==t.length))return _[0]+m+_[1];if(r<0)return S(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var O;return O=b?l(e,t,r,d,u):u.map(function(n){return p(e,t,r,d,n,b)}),e.seen.pop(),y(O,m,_)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,r,o){for(var i=[],u=0,a=t.length;u<a;++u)R(t,String(u))?i.push(p(e,t,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))}),i}function p(e,t,n,r,o,i){var u,a,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),R(r,o)||(u="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(a=v(n)?s(e,c.value,null):s(e,c.value,n-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),w(u)){if(i&&o.match(/^\d+$/))return a;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+a}function y(e,t,n){var r=0,o=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return null==e}function b(e){return"number"==typeof e}function g(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function w(e){return void 0===e}function S(e){return O(e)&&"[object RegExp]"===x(e)}function O(e){return"object"==typeof e&&null!==e}function k(e){return O(e)&&"[object Date]"===x(e)}function E(e){return O(e)&&("[object Error]"===x(e)||e instanceof Error)}function T(e){return"function"==typeof e}function j(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function x(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}function A(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var I=/%[sdj%]/g;n.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,u=String(e).replace(I,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),a=r[n];n<i;a=r[++n])u+=v(a)||!O(a)?" "+a:" "+o(a);return u},n.deprecate=function(e,o){function i(){if(!u){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),u=!0}return e.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var u=!1;return i};var L,D={};n.debuglog=function(e){if(w(L)&&(L=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!D[e])if(new RegExp("\\b"+e+"\\b","i").test(L)){var r=t.pid;D[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else D[e]=function(){};return D[e]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=d,n.isNull=v,n.isNullOrUndefined=m,n.isNumber=b,n.isString=g,n.isSymbol=_,n.isUndefined=w,n.isRegExp=S,n.isObject=O,n.isDate=k,n.isError=E,n.isFunction=T,n.isPrimitive=j,n.isBuffer=e("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",A(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!O(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":37,_process:26,inherits:28}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/assert"),c=e("./Specification");t.exports=function(){var e=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.argumentIsRequired(e,"specificationOne",c,"Specification"),s.argumentIsRequired(n,"specificationTwo",c,"Specification"),i._specificationOne=e,i._specificationTwo=n,i}return i(t,e),a(t,[{key:"_evaluate",value:function(e){return this._specificationOne.evaluate(e)&&this._specificationTwo.evaluate(e)}},{key:"toString",value:function(){return"[AndSpecification]"}}]),t}(c);return e}()},{"./../lang/assert":15,"./Specification":48}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/assert"),c=e("./Specification");t.exports=function(){var e=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.argumentIsArray(e,"value"),n._value=e,n}return i(t,e),a(t,[{key:"_evaluate",value:function(e){return this._value.some(function(t){return t===e})}},{key:"toString",value:function(){return"[ContainedSpecification]"}}]),t}(c);return e}()},{"./../lang/assert":15,"./Specification":48}],41:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./Specification");t.exports=function(){var e=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._value=e,n}return i(t,e),a(t,[{key:"_evaluate",value:function(e){var t=this;return Array.isArray(e)&&e.some(function(e){return e===t._value})}},{key:"toString",value:function(){return"[ContainsSpecification]"}}]),t}(s);return e}()},{"./Specification":48}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./Specification");t.exports=function(){var e=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._value=e,n}return i(t,e),a(t,[{key:"_evaluate",value:function(e){return e===this._value}},{key:"toString",value:function(){return"[EqualsSpecification]"}}]),t}(s);return e}()},{"./Specification":48}],43:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./Specification");t.exports=function(){var e=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"_evaluate",value:function(e){return!1}},{key:"toString",value:function(){return"[FailSpecification]";
}}]),t}(s);return e}()},{"./Specification":48}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/assert"),c=e("./Specification");t.exports=function(){var e=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.argumentIsRequired(e,"value",Number),n._value=e,n}return i(t,e),a(t,[{key:"_evaluate",value:function(e){return s.argumentIsRequired(e,"data",Number),e>this._value}},{key:"toString",value:function(){return"[GreaterThanSpecification]"}}]),t}(c);return e}()},{"./../lang/assert":15,"./Specification":48}],45:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/assert"),c=e("./Specification");t.exports=function(){var e=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.argumentIsRequired(e,"value",Number),n._value=e,n}return i(t,e),a(t,[{key:"_evaluate",value:function(e){return s.argumentIsRequired(e,"data",Number),e<this._value}},{key:"toString",value:function(){return"[LessThanSpecification]"}}]),t}(c);return e}()},{"./../lang/assert":15,"./Specification":48}],46:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/assert"),c=e("./Specification");t.exports=function(){var e=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.argumentIsRequired(e,"specificationOne",c,"Specification"),s.argumentIsRequired(n,"specificationTwo",c,"Specification"),i._specificationOne=e,i._specificationTwo=n,i}return i(t,e),a(t,[{key:"_evaluate",value:function(e){return this._specificationOne.evaluate(e)||this._specificationTwo.evaluate(e)}},{key:"toString",value:function(){return"[OrSpecification]"}}]),t}(c);return e}()},{"./../lang/assert":15,"./Specification":48}],47:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./Specification");t.exports=function(){var e=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"_evaluate",value:function(e){return!0}},{key:"toString",value:function(){return"[PassSpecification]"}}]),t}(s);return e}()},{"./Specification":48}],48:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.exports=function(){var e=function(){function e(){r(this,e)}return o(e,[{key:"evaluate",value:function(e){return this._evaluate(e)}},{key:"_evaluate",value:function(e){return!1}},{key:"toString",value:function(){return"[Specification]"}}]),e}();return e}()},{}],49:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./../lang/assert"),u=e("./Specification"),a=e("./AndSpecification"),s=e("./OrSpecification");t.exports=function(){var e=function(){function e(t){r(this,e),i.argumentIsRequired(t,"specification",u,"Specification"),this._specification=t}return o(e,[{key:"and",value:function(t){return new e(new a(this._specification,t))}},{key:"or",value:function(t){return new e(new s(this._specification,t))}},{key:"build",value:function(){return this._specification}},{key:"toString",value:function(){return"[SpecificationBuilder]"}}],[{key:"startWith",value:function(t){return new e(t)}}]),e}();return e}()},{"./../lang/assert":15,"./AndSpecification":39,"./OrSpecification":46,"./Specification":48}],50:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/assert"),c=e("./Specification");t.exports=function(){var e=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.argumentIsRequired(e,"specification",c,"Specification"),s.argumentIsRequired(n,"translator",Function),i._specification=e,i._translator=n,i}return i(t,e),a(t,[{key:"_evaluate",value:function(e){return this._specification.evaluate(this._translator(e))}},{key:"toString",value:function(){return"[TranslateSpecification]"}}]),t}(c);return e}()},{"./../lang/assert":15,"./Specification":48}],51:[function(e,t,n){"use strict";var r=e("./AndSpecification"),o=e("./ContainedSpecification"),i=e("./ContainsSpecification"),u=e("./EqualsSpecification"),a=e("./FailSpecification"),s=e("./GreaterThanSpecification"),c=e("./LessThanSpecification"),f=e("./OrSpecification"),l=e("./PassSpecification"),p=e("./Specification"),y=e("./SpecificationBuilder"),h=e("./TranslateSpecification");t.exports=function(){return{AndSpecification:r,ContainedSpecification:o,ContainsSpecification:i,EqualsSpecification:u,FailSpecification:a,GreaterThanSpecification:s,LessThanSpecification:c,OrSpecification:f,PassSpecification:l,Specification:p,SpecificationBuilder:y,TranslateSpecification:h}}()},{"./AndSpecification":39,"./ContainedSpecification":40,"./ContainsSpecification":41,"./EqualsSpecification":42,"./FailSpecification":43,"./GreaterThanSpecification":44,"./LessThanSpecification":45,"./OrSpecification":46,"./PassSpecification":47,"./Specification":48,"./SpecificationBuilder":49,"./TranslateSpecification":50}],52:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("log4js"),c=e("./../lang/assert"),f=e("./../lang/Disposable"),l=e("./../collections/Queue"),p=e("./Scheduler");t.exports=function(){function e(){var t=this;if(!this.getIsDisposed()&&!this._workQueue.empty()){if(null===this._windowStart){var n=new Date;this._windowStart=n.getTime(),this._windowCounter=0;var r=function(){t._windowStart=null,t._windowCounter=0,e.call(t)};this._scheduler.schedule(r,this._windowDurationMilliseconds,"Rate Limiter Window Reset")}if(this._windowCounter<this._windowMaximumCount){this._windowCounter=this._windowCounter+1;var o=this._workQueue.dequeue();o()}}}var t=(s.getLogger("common/timing/RateLimiter"),function(t){function n(e,t){r(this,n);var i=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return c.argumentIsRequired(e,"windowMaximumCount",Number),c.argumentIsRequired(t,"windowDurationMilliseconds",Number),i._windowMaximumCount=e,i._windowDurationMilliseconds=t,i._scheduler=new p,i._workQueue=new l,i._windowStart=null,i._windowCounter=0,i}return i(n,t),a(n,[{key:"enqueue",value:function(t){var n=this;if(c.argumentIsRequired(t,"actionToEnqueue",Function),this.getIsDisposed())throw new Error("Unable to enqueue action, the rate limiter has been disposed.");return new Promise(function(r,o){n._workQueue.enqueue(function(){Promise.resolve().then(function(){return t()}).then(function(e){r(e)})["catch"](function(e){o(e)}).then(function(){e.call(n)})}),e.call(n)})}},{key:"_onDispose",value:function(){this._scheduler.dispose(),this._workQueue=null}},{key:"toString",value:function(){return"[RateLimiter]"}}]),n}(f));return t}()},{"./../collections/Queue":1,"./../lang/Disposable":14,"./../lang/assert":15,"./Scheduler":53,log4js:34}],53:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./../lang/assert"),c=e("./../lang/Disposable");t.exports=function(){var e=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._timeoutBindings={},e._intervalBindings={},e}return i(t,e),a(t,[{key:"schedule",value:function(e,t,n){var r=this;if(s.argumentIsRequired(e,"actionToSchedule",Function),s.argumentIsRequired(t,"millisecondDelay",Number),s.argumentIsOptional(n,"actionDescription",String),this.getIsDisposed())throw new Error("The Scheduler has been disposed.");var o=void 0,i=new Promise(function(n,i){var u=function(){delete r._timeoutBindings[o];try{n(e())}catch(t){i(t)}};o=setTimeout(u,t)});return this._timeoutBindings[o]=c.fromAction(function(){clearTimeout(o),delete r._timeoutBindings[o]}),i}},{key:"repeat",value:function(e,t,n){var r=this;if(s.argumentIsRequired(e,"actionToRepeat",Function),s.argumentIsRequired(t,"millisecondInterval",Number),s.argumentIsOptional(n,"actionDescription",String),this.getIsDisposed())throw new Error("The Scheduler has been disposed.");var o=function(){try{e()}catch(t){}},i=setInterval(o,t);return this._intervalBindings[i]=c.fromAction(function(){clearInterval(i),delete r._intervalBindings[i]}),this._intervalBindings[i]}},{key:"backoff",value:function(e,t,n,r){var o=this;if(s.argumentIsRequired(e,"actionToBackoff",Function),s.argumentIsOptional(t,"millisecondDelay",Number),s.argumentIsOptional(n,"actionDescription",String),s.argumentIsOptional(r,"maximumAttempts",Number),this.getIsDisposed())throw new Error("The Scheduler has been disposed.");var i=function u(i){if(r>0&&i>r)return Promise.reject("Maximum failures reaacked for "+n);var a=void 0;return a=0===i?t:(t||1e3)*Math.pow(2,i),o.schedule(e,a,(n||"unspecified")+", attempt "+(i+1)).then(function(e){return e?e:u(++i)})["catch"](function(e){return u(++i)})};return i(0)}},{key:"_onDispose",value:function(){var e=this;Object.keys(this._timeoutBindings).forEach(function(t){e._timeoutBindings[t].dispose()}),Object.keys(this._intervalBindings).forEach(function(t){e._intervalBindings[t].dispose()}),this._timeoutBindings=null,this._intervalBindings=null}},{key:"toString",value:function(){return"[Scheduler]"}}],[{key:"schedule",value:function(e,n,r){var o=new t;o.schedule(e,n,r).then(function(e){return o.dispose(),e})["catch"](function(e){throw o.dispose(),e})}}]),t}(c);return e}()},{"./../lang/Disposable":14,"./../lang/assert":15}],54:[function(e,t,n){"use strict";var r=e("./RateLimiter"),o=e("./Scheduler");t.exports=function(){return{RateLimiter:r,Scheduler:o}}()},{"./RateLimiter":52,"./Scheduler":53}]},{},[13])(13)});